<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Feeding Frenzy</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Fredoka+One&family=Roboto:wght@400;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="css/style.css" />
    <link rel="icon" href="assets/backgrounds/favicon.png" />
  </head>
  <body>
    <div id="game">
      <!-- Video Background -->
      <video id="game-video-bg" autoplay muted loop playsinline preload="auto">
        <source src="assets/backgrounds/background.webm" type="video/webm" />
        Your browser does not support the video tag.
      </video>

      <!-- Progress Bar -->
      <div id="progress-container">
        <div id="progress-fill"></div>
        <div id="progress-text">0 / 650</div>

        <div class="checkpoint cp1">
          <span class="checkpoint-label">Lv1</span>
        </div>
        <div class="checkpoint cp2">
          <span class="checkpoint-label">Lv2</span>
        </div>
        <div class="checkpoint cp3">
          <span class="checkpoint-label">Lv3</span>
        </div>
      </div>

      <!-- UI Layer -->
      <div id="ui-layer" class="hidden">
        <div class="stats">
          <div>SCORE: <span id="score-val">0</span></div>
          <div>HIGH SCORE: <span id="high-score-val">0</span></div>
        </div>

        <div class="target-indicator">
          <p>HUNT THIS</p>
          <img id="target-img" src="" alt="target" />
          <span id="target-name"></span>
        </div>

        <!-- Sound Controls -->
        <div id="sound-controls">
          <button id="music-toggle" class="sound-btn" title="Toggle Music">
            <span class="sound-on">ðŸ”Š</span>
            <span class="sound-off" style="display: none">ðŸ”‡</span>
          </button>
          <button
            id="sfx-toggle"
            class="sound-btn"
            title="Toggle Sound Effects"
          >
            <span class="sfx-on">ðŸŽµ</span>
            <span class="sfx-off" style="display: none">ðŸš«</span>
          </button>
        </div>
      </div>

      <!-- Story Container -->
      <div id="story-container">
        <div class="story-card">
          <div class="story-decor">
            <span class="bubble s1"></span>
            <span class="bubble s2"></span>
            <span class="pearl"></span>
            <span class="grass"></span>
          </div>

          <h1 id="story-title">THE DEPTHS</h1>

          <div class="story-content">
            <img id="story-avatar" src="" alt="character" />
            <p id="story-text"></p>
          </div>

          <div class="story-controls">
            <button id="skip-btn" class="secondary-btn">SKIP</button>
            <button id="next-btn" class="primary-btn">NEXT</button>
          </div>
        </div>
      </div>

      <!-- Bubble Transition -->
      <div id="bubble-transition" class="hidden">
        <div class="loading-center">
          <h2>LOADING</h2>
        </div>

        <div class="transition-bubbles">
          <span class="bub b1"></span>
          <span class="bub b2"></span>
          <span class="bub b3"></span>
          <span class="bub b4"></span>
          <span class="bub b5"></span>
          <span class="bub b6"></span>
          <span class="bub b7"></span>
          <span class="bub b8"></span>
          <span class="bub b9"></span>
          <span class="bub b10"></span>
          <span class="bub b11"></span>
          <span class="bub b12"></span>
          <span class="bub b13"></span>
          <span class="bub b14"></span>
          <span class="bub b15"></span>
          <span class="bub b16"></span>
          <span class="bub b17"></span>
          <span class="bub b18"></span>
          <span class="bub b19"></span>
          <span class="bub b20"></span>
          <span class="bub b21"></span>
          <span class="bub b22"></span>
          <span class="bub b23"></span>
          <span class="bub b24"></span>
          <span class="bub b25"></span>
        </div>
      </div>

      <!-- End Screen -->
      <div id="end-screen" class="hidden">
        <h1 id="end-title">GAME OVER</h1>
        <p id="end-msg">Try again!</p>
        <div class="end-buttons">
          <button id="restart-btn" class="primary-btn">PLAY AGAIN</button>
          <button id="endless-btn" class="endless-btn hidden">
            ðŸ”¥ ENDLESS MODE
          </button>
        </div>
      </div>
    </div>

    <script type="module" src="./js/main.js"></script>
  </body>
</html>
